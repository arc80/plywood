<% title "Directory Structure" %>

Every time you clone the Plywood repository, you effectively create a new **workspace**. The workspace has the following directory structure:

<% html
<svg xmlns="http://www.w3.org/2000/svg" height="597" width="388" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs>
    <linearGradient id="stops">
      <stop stop-color="#fdfda0" offset="0"/>
      <stop stop-color="#f5d334" offset="1"/>
    </linearGradient>
    <linearGradient id="gradient0" y2="477" xlink:href="#stops" gradientUnits="userSpaceOnUse" x2="334" gradientTransform="translate(-327 -6)" y1="467" x1="334"/>
    <linearGradient id="gradient1" y2="481" xlink:href="#stops" gradientUnits="userSpaceOnUse" x2="340" gradientTransform="translate(-327 -6)" y1="472" x1="340"/>
  </defs>
  <g id="lines" stroke="#e0e0e0" stroke-width="2" fill="none">
    <path d="M140 286v299c0 2.52 1.75 4 4 4h10M112 33c0 2.52 1.75 4 4 4h10M112 57c0 2.52 1.75 4 4 4h10M112 81c0 2.52 1.75 4 4 4h10M112 105c0 2.52 1.75 4 4 4h10M196 406v155c0 2.52 1.75 4 4 4h10M168 310v83c0 2.52 1.75 4 4 4h10M140 118v131c0 2.52 1.75 4 4 4h10M168 214v11c0 2.52 1.75 4 4 4h10M168 142v35c0 2.52 1.75 4 4 4h10"/>
    <path d="M140 129c0 2.52 1.75 4 4 4h10M140 201c0 2.52 1.75 4 4 4h10M168 153c0 2.52 1.75 4 4 4h10M168 321c0 2.52 1.75 4 4 4h10M168 345c0 2.52 1.75 4 4 4h10M168 369c0 2.52 1.75 4 4 4h10M196 417c0 2.52 1.75 4 4 4h10M196 441c0 2.52 1.75 4 4 4h10M196 465c0 2.52 1.75 4 4 4h10M196 489c0 2.52 1.75 4 4 4h10M196 513c0 2.52 1.75 4 4 4h10M196 537c0 2.52 1.75 4 4 4h10M112 22v251c0 2.52 1.75 4 4 4h10M140 297c0 2.52 1.75 4 4 4h10"/>
  </g>
  <g transform="translate(0 -455.5)">
    <g id="folder" stroke-linejoin="round" stroke="#dcbf6a">
      <path d="M2.5 460c0-.5.5-1 1-1h5c.613-.01 1 .507 1 1v2h10c.587 0 1 .421 1 1v10c.018.552-.434 1-1 1h-16c-.507 0-1-.444-1-1z" fill="url(#gradient0)" transform="translate(100)"/>
      <path d="M7.36 466c.286-.5 1.07-1 1.57-1h16c.587 0 .759.421.428 1l-4 7c-.298.552-1.01 1-1.57 1h-16c-.507 0-.746-.444-.428-1z" fill="url(#gradient1)" transform="translate(100)"/>
    </g>
    <g id="file">
      <path d="M32.5 482h13l3 3v15h-16z" stroke="#acacac" fill="#fff" transform="translate(100)"/>
      <path d="M36 490h9M36 492h9M36 494h9M36 496h9" stroke="#aac1ce" fill="none" transform="translate(100)"/>
      <path d="M45.5 482v3h3" stroke="#acacac" fill="none" transform="translate(100)"/>
      <path d="M36 488h9M36 488h9" stroke="#aac1ce" fill="none" transform="translate(100)"/>
    </g>
    <use xlink:href="#file" transform="translate(0 24)"/>
    <g id="app" transform="translate(0.5 0)">
      <path d="M130 532h20v14h-20z" stroke="#6b85bf" fill="#fff"/>
      <path d="M130 532h20v2h-20z" stroke="#6b85bf" fill="#6b85bf"/>
    </g>
    <use xlink:href="#folder" transform="translate(28 96)"/>
    <use xlink:href="#folder" transform="translate(56 120)"/>
    <use xlink:href="#folder" transform="translate(84 144)"/>
    <use opacity=".5" xlink:href="#folder" transform="translate(84 168)"/>
    <use xlink:href="#folder" transform="translate(56 192)"/>
    <use opacity=".5" xlink:href="#folder" transform="translate(84 216)"/>
    <use opacity=".5" xlink:href="#folder" transform="translate(56 240)"/>
    <use xlink:href="#folder" transform="translate(28 264)"/>
    <use xlink:href="#folder" transform="translate(56 288)"/>
    <use xlink:href="#folder" transform="translate(84 312)"/>
    <use xlink:href="#folder" transform="translate(84 336)"/>
    <use xlink:href="#folder" transform="translate(84 360)"/>
    <use xlink:href="#folder" transform="translate(84 384)"/>
    <use xlink:href="#folder" transform="translate(112 408)"/>
    <use xlink:href="#folder" transform="translate(112 432)"/>
    <use xlink:href="#folder" transform="translate(112 456)"/>
    <use xlink:href="#folder" transform="translate(112 480)"/>
    <use xlink:href="#folder" transform="translate(112 504)"/>
    <use xlink:href="#folder" transform="translate(112 528)"/>
    <use opacity=".5" xlink:href="#folder" transform="translate(112 552)"/>
    <use opacity=".5" xlink:href="#folder" transform="translate(56 576)"/>
    <g font-family="LiberationSans" font-size="15">
      <text y="471.362" x="131" fill="#4d4d4d">plywood</text>
      <text y="495.362" x="159" fill="#4d4d4d">Setup.cmake</text>
      <text y="735.362" x="159" fill="#4d4d4d">repos</text>
      <text y="519.362" x="159" fill="#cf653a">workspace-settings.pylon</text>
      <text y="543.362" x="159" fill="#cf653a">plytool</text>
      <text y="567.362" x="159" fill="#cf653a">data</text>
      <text y="591.362" x="187" fill="#cf653a">build</text>
      <text y="615.362" x="215" fill="#cf653a">bootstrap</text>
      <text y="663.362" x="187" fill="#cf653a">extern</text>
      <text y="759.362" x="187" fill="#4d4d4d">plywood</text>
      <text y="783.362" x="215" fill="#4d4d4d">docs</text>
      <text y="807.362" x="215" fill="#4d4d4d">extra</text>
      <text y="831.362" x="215" fill="#4d4d4d">scripts</text>
      <text y="855.362" x="215" fill="#4d4d4d">src</text>
      <text y="879.362" x="243" fill="#4d4d4d">apps</text>
      <text y="903.362" x="243" fill="#4d4d4d">build</text>
      <text y="927.362" x="243" fill="#4d4d4d">cook</text>
      <text y="951.362" x="243" fill="#4d4d4d">cpp</text>
      <text y="975.362" x="243" fill="#4d4d4d">runtime</text>
      <text y="999.362" x="243" fill="#4d4d4d">web</text>
    </g>
    <g font-family="Asap" font-style="italic" font-size="15">
      <text y="711.362" x="187" fill="#bc9b7d">(other data folders)</text>
      <text y="639.362" x="215" fill="#bc9b7d">(other build folders)</text>
      <text y="687.362" x="215" fill="#bc9b7d">(extern folders)</text>
      <text y="1023.362" x="243" fill="#98a9a9">(other source folders)</text>
      <text y="1047.362" x="187" fill="#98a9a9">(other repo folders)</text>
    </g>
    <g font-size="15" font-family="Asap" font-style="italic" fill="#d04545" text-anchor="middle">
      <text y="603.362" x="39.121">Generated</text>
      <text y="618.362" x="39.121">after</text>
      <text y="633.362" x="39.121">cloning</text>
    </g>
    <path id="bracket" d="M77 610c4.35 0 7 3.32 7 6.99v87c0 5.88 4.43 11 13.4 11" stroke="#d04545" stroke-width="2" fill="none"/>
    <use xlink:href="#bracket" transform="matrix(1 0 0 -1 0 1220)"/>
  </g>
</svg>
%>

## Files in the Workspace Root

<% member Setup.cmake %>

This is the first script to run immediately after cloning Plywood, as explained in [Quick Start](QuickStart). It's responsible for building `plytool`.

<% member workspace-settings.pylon %>

_(Not stored in Git)_ This file contains settings associated with the workspace, such as the current build folder and the default CMake generator for new build folders. It gets modified by certain PlyTool commands.

<% member plytool %>

_(Not stored in Git)_ This is a command-line application to perform various operations on the workspace, such as creating new build folders, installing externs and generating build systems. See [PlyTool Reference](PlyTool) for more info.

<% endMembers %>

## The `data` Directory

The `data` directory, located immediately below the workspace root, can be seen as a local cache of transient data. It contains build folders, file downloads, and any other kind of data that is generated or required by Plywood apps. The `data` folder is excluded from Plywood's main Git repository.

In theory, you could delete the entire `data` directory at any time and get it back by running PlyTool commands and/or other applications.

<% member build %>

The `data/build` directory is reserved for Plywood build folders. Each build folder contains a special file, `info.pylon`, that contains information about the build folder. Each time you create a build folder, add a [root target](KeyConcepts#targets) or select an [extern provider](KeyConcepts#extern-providers) using PlyTool, it modifies one of these `info.pylon` files.

<% member extern %>

The `data/extern` directory is reserved for temporary storage by [extern providers](KeyConcepts#extern-providers). Each extern folder contains a special file, `info.pylon`, that contains information about that extern folder. This is where certain extern providers download and extract pre-built libraries.

Some examples of extern providers that create extern folders are `libsass.prebuilt`, `libavcodec.prebuilt` and `cairo.prebuilt`, all of which download pre-built libraries for Windows.

Not every extern provider needs to create an extern folder. For example, on Debian and Ubuntu, `libsass.apt` uses the system package manager instead. 

<% endMembers %>

Other applications are free to create their own subdirectories in `data`. For example, the [WebCooker](BuildDocs) writes a bunch of data files to `data/docsite`.

## The `repos` Directory

The `repos` directory, located immediately below the workspace root, is where Plywood [modules](KeyConcepts#modules) are stored. Plywood modules are organized into [repos](KeyConcepts#modules), where each sudirectory immediately below the `repos` directory is considered a Plywood repo.

<% member plywood %>

The `repos/plywood` directory is special; it's where all of Plywood's built-in modules are stored.

<% endMembers %>

Every other subdirectory of `repos` is excluded from Plywood's main Git repository. It's possible to define new repos by creating or cloning other Git repos here. Additional repos must include an `info.pylon` file to declare their dependencies on other repos. For now, this must all be done manually. The plan is extend Plywood to make it easier to work with multiple repos.
